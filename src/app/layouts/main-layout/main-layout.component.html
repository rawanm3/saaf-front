<div class="wrapper">
  <app-topbar
    (settingsButtonClicked)="onSettingsButtonClicked()"
    (mobileMenuButtonClicked)="onToggleMobileMenu()"
  />
    <div class="theme-settings" [class.open]="isOpen">
        <div class="theme-header text-center">
            <h5>Language Settings</h5>
        </div>

        <div class="language-toggle-container mb-3">
            <button
                class="btn language-toggle-btn"
                [class.arabic-active]="isRTL"
                (click)="switchLanguage(isRTL ? 'en' : 'ar')"> <!-- Click will switch to the *other* language -->
                <span class="language-text english-text" [class.active]="!isRTL">English</span>
                <span class="toggle-slider"></span>
                <span class="language-text arabic-text" [class.active]="isRTL">العربية</span>
            </button>
        </div>

        <button class="settings-btn" (click)="isOpen = !isOpen">
            <i class="ri-settings-4-line fs-28"></i>
        </button>
    </div>
  <app-sidebar />

  <div class="page-content">
    <div class="container-fluid">
      <router-outlet />
    </div>
    <app-footer />
  </div>
</div>
<style>
  .theme-settings {
    z-index: 1000;
    position: fixed;
    top: 50%;
    right: -220px;
    transform: translateY(-50%);
    width: 200px;
    background: #fff;
    padding: 15px;
    border-radius: 8px 0 0 8px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
    transition: right 0.3s ease-in-out;
    z-index: 2000;
  }

  .theme-settings.open {
    right: 0;
  }

  .theme-settings .theme-header {
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
  }

  .theme-settings .theme-header h5 {
    font-size: 16px;
    color: #333;
    margin: 0;
  }

  .theme-settings .settings-btn {
    position: absolute;
    width: 46px;
    height: 46px;
    left: -31px;
    top: 50%;
    transform: translateY(-50%) translateX(-50%);
    background: #4a6c5a;
    color: #fff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    transition: background 0.2s ease-in-out, transform 0.2s ease-in-out;
  }

  .theme-settings .settings-btn:hover {
    background: #3a5445;
    transform: translateY(-50%) translateX(-50%) rotate(45deg);
  }

  .language-toggle-container {
    display: flex;
    justify-content: center;
    padding: 10px 0;
  }

  .language-toggle-btn {
    position: relative;
    width: 160px;
    height: 40px;
    background-color: #f0f0f0;
    border: 1px solid #ddd;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 10px;
    cursor: pointer;
    overflow: hidden;
    transition: background-color 0.3s ease;
  }

  .language-toggle-btn .language-text {
    font-size: 14px;
    font-weight: 500;
    color: #666;
    z-index: 2;
    flex: 1;
    text-align: center;
    transition: color 0.3s ease;
  }

  .language-toggle-btn .language-text.active {
    color: #fff;
  }

  .language-toggle-btn .toggle-slider {
    position: absolute;
    top: 2px;
    left: 2px;
    width: calc(50% - 2px);
    height: calc(100% - 4px);
    background-color: #c8a877;
    color: #fff;
    border-radius: 18px;
    transition: left 0.3s ease;
    z-index: 1;
  }

  .language-toggle-btn.arabic-active .toggle-slider {
    left: calc(50% - 2px);
  }
</style>